<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
    http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.20.xsd">

    <changeSet id="202601141236" author="s.lagatta">
        <createTable tableName="utenti">

            <column name="id_utente" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>

            <column name="nome" type="varchar">
                <constraints nullable="false"/>
            </column>

            <column name="cognome" type="varchar">
                <constraints nullable="false"/>
            </column>

            <column name="email" type="varchar">
                <constraints nullable="false" unique="true"/>
            </column>

            <column name="data_nascita" type="date">
                <constraints nullable="false"/>
            </column>

            <column name="sesso" type="varchar"/>

            <column name="data_creazione" type="timestamp">
                <constraints nullable="false"/>
            </column>


        </createTable>

        <addForeignKeyConstraint
                baseTableName="utenti"
                baseColumnNames="id_utente"
                referencedTableName="credenziali"
                referencedColumnNames="id_credenziali"
                constraintName="fk_utenti_credenziali"/>

    </changeSet>

</databaseChangeLog>